grammar MarkdownWithYaml
  rule document
    yaml_front_matter? markdown_content
  end

  rule yaml_front_matter
    '---' newline yaml_content* '---' newline
  end

  rule yaml_content
    (!'---' .)* newline
  end

  rule markdown_content
    (!'---' .)+
  end

  rule newline
    '\r\n' / '\n' / '\r'
  end
end
