<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="flowbots">Flowbots</h1>

<p>Flowbots is an advanced text processing and analysis system that combines the power of <a href="https://github.com/icebaker/ruby-nano-bots.git">ruby-nano-bots</a>, <a href="https://gitlab.com/RedFred7/Jongleur.git">workflow orchestration</a>, and natural language processing to provide a flexible and powerful tool for document analysis and topic modeling.</p>

<h2 id="features">Features</h2>

<ul>
<li>Text processing workflows for individual files and batch processing</li>
<li>Advanced NLP methods including tokenization, part-of-speech tagging, and named entity recognition</li>
<li>Topic modeling with dynamic model training and inference</li>
<li>Flexible workflow system using Jongleur for task orchestration</li>
<li>Redis-based data persistence using Ohm models</li>
<li>Custom nano-bot cartridges for specialized AI-powered tasks</li>
<li>Robust error handling and logging system</li>
</ul>

<h2 id="system-architecture">System Architecture</h2>

<h2 id="project-structure">Project Structure</h2>

<p>The Flowbots project is organized into several key directories:</p>

<ul>
<li><code>/lib</code>: Main application code

<ul>
<li><code>/components</code>: Core system components</li>
<li><code>/processors</code>: Text and NLP processors</li>
<li><code>/tasks</code>: Individual workflow tasks</li>
<li><code>/workflows</code>: Workflow definitions</li>
<li><code>/ohm</code>: Ohm model definitions</li>
<li><code>/utils</code>: Utility functions and classes</li>
</ul></li>
<li><code>/nano-bots/cartridges</code>: Nano-bot cartridge definitions</li>
<li><code>/test</code>: Test files and test helpers</li>
<li><code>/log</code>: Log files</li>
</ul>

<h2 id="key-components">Key Components</h2>

<ol>
<li><strong>CLI</strong>: The main entry point for user interaction, allowing users to select and run workflows.</li>
<li><strong>WorkflowOrchestrator</strong>: Manages the execution of workflows and their constituent tasks.</li>
<li><strong>Task Processors</strong>: Specialized classes for text processing, NLP analysis, and topic modeling.</li>
<li><strong>Ohm Models</strong>: Data persistence layer for storing document information and workflow states.</li>
<li><strong>NanoBot Integration</strong>: Utilizes nano-bot cartridges for specialized AI-powered tasks.</li>
<li><strong>Logging System</strong>: Comprehensive logging for debugging and monitoring.</li>
</ol>

<h1 id="detailed-operation">Detailed Operation</h1>

<h2 id="1-workflow-initialization">1. Workflow Initialization</h2>

<p>When a user selects a workflow through the CLI, the system initializes the chosen workflow (e.g., TextProcessingWorkflow or TopicModelTrainerWorkflow). The WorkflowOrchestrator sets up the task graph based on the workflow definition.</p>

<h2 id="2-task-execution">2. Task Execution</h2>

<p>The WorkflowOrchestrator executes tasks in the defined order. Each task follows a similar pattern:</p>

<ol>
<li>Retrieve necessary data from Redis or Ohm models.</li>
<li>Process the data using specialized processors (e.g., NLPProcessor, TopicModelProcessor).</li>
<li>Store the results back in Redis (for temporary storage) or Ohm models (for persistence).</li>
</ol>

<h2 id="3-data-flow">3. Data Flow</h2>

<ul>
<li>Redis is used for storing temporary data and passing information between tasks. This includes file IDs, current batch information, and intermediate processing results.</li>
<li>Ohm models, backed by Redis, are used for persistent storage of document information, segments, tokens, and analysis results.</li>
</ul>

<h2 id="4-nlp-and-topic-modeling">4. NLP and Topic Modeling</h2>

<ul>
<li>The NlpAnalysisTask uses the ruby-spacy gem to perform tasks like tokenization, part-of-speech tagging, and named entity recognition.</li>
<li>The TopicModelingTask uses the tomoto gem to implement topic modeling algorithms.</li>
</ul>

<h2 id="5-llm-integration">5. LLM Integration</h2>

<p>The LlmAnalysisTask integrates with external language models through the NanoBot system. This allows for high-level analysis and insights generation based on the processed text data.</p>

<h2 id="6-error-handling-and-logging">6. Error Handling and Logging</h2>

<p>Each task and the WorkflowOrchestrator include error handling mechanisms. Errors are caught, logged, and in some cases, trigger the ExceptionAgent for detailed error analysis.</p>

<h2 id="7-batch-processing">7. Batch Processing</h2>

<p>For the TopicModelTrainerWorkflow, files are processed in batches. The WorkflowOrchestrator manages the batch state, ensuring all files in a batch are processed before moving to the next batch.</p>

<h2 id="8-result-presentation">8. Result Presentation</h2>

<p>The DisplayResultsTask formats the analysis results and presents them to the user through the CLI. This may include summaries, topic distributions, and insights generated by the LLM.</p>

<h2 id="key-interactions">Key Interactions</h2>

<ol>
<li><strong>CLI &lt;-&gt; WorkflowOrchestrator</strong>: The CLI initiates workflow execution and receives final results.</li>
<li><strong>WorkflowOrchestrator &lt;-&gt; Tasks</strong>: The orchestrator manages task execution order and handles task results.</li>
<li><strong>Tasks &lt;-&gt; Redis</strong>: Tasks use Redis for short-term storage and inter-task communication.</li>
<li><strong>Tasks &lt;-&gt; Ohm Models</strong>: Tasks interact with Ohm models for persistent storage of document data and analysis results.</li>
<li><strong>NLP and Topic Modeling Tasks &lt;-&gt; External Libraries</strong>: These tasks utilize external Ruby gems for specialized processing.</li>
<li><strong>LlmAnalysisTask &lt;-&gt; NanoBot</strong>: This task interacts with the NanoBot system to leverage external language models.</li>
</ol>

<p>This architecture allows Flowbots to process text data through a series of specialized tasks, each building upon the results of previous tasks, to provide comprehensive text analysis and insights.</p>

<h1 id="ruby-gems-used-in-flowbots">Ruby Gems Used in Flowbots</h1>

<h2 id="workflow-and-task-management">Workflow and Task Management</h2>

<ul>
<li><a href="https://rubygems.org/gems/jongleur">jongleur</a>: Core component for defining and executing task workflows, providing workflow orchestration and task management capabilities.</li>
</ul>

<h2 id="data-persistence">Data Persistence</h2>

<ul>
<li><a href="https://rubygems.org/gems/ohm">ohm</a>: Object-hash mapping for Redis, used as the data persistence layer for storing document information and workflow states.</li>
</ul>

<h2 id="parallel-processing">Parallel Processing</h2>

<ul>
<li><a href="https://rubygems.org/gems/parallel">parallel</a>: Enables parallel processing, with potential use for parallel execution of tasks (not prominently used in the current implementation).</li>
</ul>

<h2 id="development-and-debugging">Development and Debugging</h2>

<ul>
<li><a href="https://rubygems.org/gems/pry">pry</a> and <a href="https://rubygems.org/gems/pry-stack_explorer">pry-stack_explorer</a>: Enhanced REPL and debugging tools for development and debugging purposes.</li>
</ul>

<h2 id="natural-language-processing">Natural Language Processing</h2>

<ul>
<li><a href="https://rubygems.org/gems/ruby-spacy">ruby-spacy</a>: Ruby bindings for the Spacy NLP library, used for Natural Language Processing tasks.</li>
<li><a href="https://rubygems.org/gems/lingua">lingua</a>: Provides additional natural language detection and processing capabilities.</li>
<li><a href="https://rubygems.org/gems/pragmatic_segmenter">pragmatic_segmenter</a>: Used for text segmentation, splitting text into meaningful segments.</li>
<li><a href="https://rubygems.org/gems/pragmatic_tokenizer">pragmatic_tokenizer</a>: Handles text tokenization, breaking text into individual tokens.</li>
</ul>

<h2 id="command-line-interface">Command-Line Interface</h2>

<ul>
<li><a href="https://rubygems.org/gems/thor">thor</a>: Used for building command-line interfaces, specifically for creating the CLI for Flowbots.</li>
</ul>

<h2 id="parsing-and-data-handling">Parsing and Data Handling</h2>

<ul>
<li><a href="https://rubygems.org/gems/treetop">treetop</a>: A parsing expression grammar (PEG) parser generator, used for custom grammar parsing, particularly for Markdown with YAML front matter.</li>
<li><a href="https://rubygems.org/gems/yaml">yaml</a>: Handles YAML parsing and generation, particularly for configuration files and document front matter.</li>
</ul>

<h2 id="terminal-output-formatting">Terminal Output Formatting</h2>

<ul>
<li><a href="https://rubygems.org/gems/tty-box">tty-box</a>, <a href="https://rubygems.org/gems/tty-cursor">tty-cursor</a>, <a href="https://rubygems.org/gems/tty-prompt">tty-prompt</a>, <a href="https://rubygems.org/gems/tty-screen">tty-screen</a>, <a href="https://rubygems.org/gems/tty-spinner">tty-spinner</a>, <a href="https://rubygems.org/gems/tty-table">tty-table</a>: Various terminal output formatting and interaction tools for creating rich command-line interfaces and displaying formatted output.</li>
</ul>

<h2 id="topic-modeling">Topic Modeling</h2>

<ul>
<li><a href="https://rubygems.org/gems/tomoto">tomoto</a>: Used for implementing topic modeling algorithms.</li>
</ul>
</div></div>

      <div id="footer">
  Generated on Mon Oct 21 05:12:42 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.5).
</div>

    </div>
  </body>
</html>